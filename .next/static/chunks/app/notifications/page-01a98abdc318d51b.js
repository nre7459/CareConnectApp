(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{8608:(e,t,r)=>{Promise.resolve().then(r.bind(r,5522))},5522:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(5155),s=r(2115),n=r(4085),a=r(5007),c=r(9134),l=r(2687),d=r(5288);let o=(0,r(7401).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var u=r(3901),h=r(5956),m=r(1027),x=r(9602);let g=(0,m.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f(e){let{className:t,variant:r,...s}=e;return(0,i.jsx)("div",{className:(0,x.cn)(g({variant:r}),t),...s})}function p(){let[e,t]=(0,s.useState)([]),[r,m]=(0,s.useState)(!0),{toast:x}=(0,c.dj)(),{user:g}=(0,h.A)();(0,s.useEffect)(()=>{p()},[]);let p=async()=>{m(!0);try{let e=await (0,u.bb)();t(e)}catch(e){console.error("Error loading notifications:",e),x({variant:"destructive",title:"Fehler beim Laden der Benachrichtigungen",description:"Bitte versuchen Sie es sp\xe4ter erneut."})}finally{m(!1)}},v=async e=>{try{await (0,u.bA)(e),t(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t)),x({title:"Als gelesen markiert",description:"Die Benachrichtigung wurde als gelesen markiert."})}catch(e){console.error("Error marking notification as read:",e),x({variant:"destructive",title:"Fehler",description:"Die Benachrichtigung konnte nicht als gelesen markiert werden."})}},b=e=>{let t=new Date(e);return new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)};return(0,i.jsx)(l.A,{children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"Benachrichtigungen"}),(0,i.jsx)(n.$,{variant:"outline",onClick:p,disabled:r,children:"Aktualisieren"})]}),r?(0,i.jsx)("div",{className:"text-center py-8",children:"Benachrichtigungen werden geladen..."}):0===e.length?(0,i.jsx)(a.Zp,{children:(0,i.jsxs)(a.Wu,{className:"text-center py-8",children:[(0,i.jsx)(d.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,i.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Keine Benachrichtigungen"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Sie haben keine neuen Benachrichtigungen."})]})}):(0,i.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,i.jsxs)(a.Zp,{className:e.isRead?"opacity-75":"",children:[(0,i.jsxs)(a.aR,{className:"pb-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.A,{className:"h-5 w-5 mr-2 text-primary"}),(0,i.jsx)(a.ZB,{className:"text-lg",children:e.title})]}),!e.isRead&&(0,i.jsx)(f,{variant:"default",children:"Neu"})]}),(0,i.jsx)(a.BT,{children:b(e.createdAt)})]}),(0,i.jsxs)(a.Wu,{children:[(0,i.jsx)("p",{className:"mb-4",children:e.message}),!e.isRead&&(0,i.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>v(e.id),className:"flex items-center",children:[(0,i.jsx)(o,{className:"h-4 w-4 mr-2"}),"Als gelesen markieren"]})]})]},e.id))})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[247,554,844,978,813,997,441,517,358],()=>t(8608)),_N_E=e.O()}]);