(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{5352:(e,t,a)=>{Promise.resolve().then(a.bind(a,133))},133:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5155),i=a(2115),n=a(4085),r=a(5007),d=a(2336),l=a(5785),o=a(371),c=a(9134),u=a(2687),m=a(2060),p=a(4274),h=a(872),f=a(5686),x=a(7837),g=a(3901),b=a(5956);function j(){let[e,t]=(0,i.useState)([]),[a,j]=(0,i.useState)(!0),[v,y]=(0,i.useState)(!1),[N,k]=(0,i.useState)(!1),[w,M]=(0,i.useState)(null),[z,A]=(0,i.useState)({name:"",dosage:"",description:"",patientId:""}),{toast:C}=(0,c.dj)(),{user:S,isAuthenticated:I}=(0,b.A)();(0,i.useEffect)(()=>{D()},[]);let D=async()=>{j(!0);try{let e=await (0,g.Pz)();t(e)}catch(e){console.error("Error loading medications:",e),C({variant:"destructive",title:"Fehler beim Laden der Medikamente",description:"Bitte versuchen Sie es sp\xe4ter erneut."})}finally{j(!1)}},E=e=>{let{name:t,value:a}=e.target;A(e=>({...e,[t]:a}))},F=()=>{var e;A({name:"",dosage:"",description:"",patientId:(null==S?void 0:null===(e=S.id)||void 0===e?void 0:e.toString())||""}),k(!1),M(null)},L=e=>{F(),e?(k(!0),M(e),A({name:e.name,dosage:e.dosage,description:e.description,patientId:e.patientId.toString()})):A(e=>{var t;return{...e,patientId:(null==S?void 0:null===(t=S.id)||void 0===t?void 0:t.toString())||""}}),y(!0)},R=async e=>{e.preventDefault();try{N&&w?(await (0,g.jw)(w.id,{...z,patientId:Number.parseInt(z.patientId)}),C({title:"Medikament aktualisiert",description:"Das Medikament wurde erfolgreich aktualisiert."})):(await (0,g.U4)({...z,patientId:Number.parseInt(z.patientId)}),C({title:"Medikament hinzugef\xfcgt",description:"Das Medikament wurde erfolgreich hinzugef\xfcgt."})),y(!1),D()}catch(e){console.error("Error saving medication:",e),C({variant:"destructive",title:"Fehler beim Speichern",description:"Das Medikament konnte nicht gespeichert werden."})}},B=async e=>{if(confirm("Sind Sie sicher, dass Sie dieses Medikament l\xf6schen m\xf6chten?"))try{await (0,g.N6)(e),C({title:"Medikament gel\xf6scht",description:"Das Medikament wurde erfolgreich gel\xf6scht."}),D()}catch(e){console.error("Error deleting medication:",e),C({variant:"destructive",title:"Fehler beim L\xf6schen",description:"Das Medikament konnte nicht gel\xf6scht werden."})}};return(0,s.jsx)(u.A,{children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Medikamentenverwaltung"}),(0,s.jsxs)(n.$,{onClick:()=>L(),children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Neues Medikament"]})]}),a?(0,s.jsx)("div",{className:"text-center py-8",children:"Medikamente werden geladen..."}):0===e.length?(0,s.jsx)(r.Zp,{children:(0,s.jsxs)(r.Wu,{className:"text-center py-8",children:[(0,s.jsx)(p.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Keine Medikamente gefunden"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Sie haben noch keine Medikamente hinzugef\xfcgt."}),(0,s.jsxs)(n.$,{onClick:()=>L(),children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Medikament hinzuf\xfcgen"]})]})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{className:"pb-2",children:[(0,s.jsxs)(r.ZB,{className:"text-lg flex items-center",children:[(0,s.jsx)(p.A,{className:"mr-2 h-5 w-5"}),e.name]}),(0,s.jsx)(r.BT,{children:e.dosage})]}),(0,s.jsx)(r.Wu,{children:(0,s.jsx)("p",{className:"text-sm",children:e.description})}),(0,s.jsxs)(r.wL,{className:"flex justify-end gap-2",children:[(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>L(e),children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Bearbeiten"]}),(0,s.jsxs)(n.$,{variant:"destructive",size:"sm",onClick:()=>B(e.id),children:[(0,s.jsx)(f.A,{className:"h-4 w-4 mr-1"}),"L\xf6schen"]})]})]},e.id))}),(0,s.jsx)(x.lG,{open:v,onOpenChange:y,children:(0,s.jsxs)(x.Cf,{children:[(0,s.jsxs)(x.c7,{children:[(0,s.jsx)(x.L3,{children:N?"Medikament bearbeiten":"Neues Medikament hinzuf\xfcgen"}),(0,s.jsxs)(x.rr,{children:["F\xfcllen Sie das Formular aus, um"," ",N?"das Medikament zu aktualisieren":"ein neues Medikament hinzuzuf\xfcgen","."]})]}),(0,s.jsxs)("form",{onSubmit:R,children:[(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"name",children:"Name"}),(0,s.jsx)(d.p,{id:"name",name:"name",value:z.name,onChange:E,placeholder:"z.B. Ibuprofen",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"dosage",children:"Dosierung"}),(0,s.jsx)(d.p,{id:"dosage",name:"dosage",value:z.dosage,onChange:E,placeholder:"z.B. 400mg, 3x t\xe4glich",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"description",children:"Beschreibung"}),(0,s.jsx)(o.T,{id:"description",name:"description",value:z.description,onChange:E,placeholder:"Beschreibung und Hinweise",rows:3})]})]}),(0,s.jsxs)(x.Es,{children:[(0,s.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Abbrechen"}),(0,s.jsx)(n.$,{type:"submit",children:N?"Aktualisieren":"Hinzuf\xfcgen"})]})]})]})})]})})}},7837:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>p,L3:()=>h,c7:()=>m,lG:()=>l,rr:()=>f});var s=a(5155),i=a(2115),n=a(6217),r=a(767),d=a(9602);let l=n.bL;n.l9;let o=n.ZL;n.bm;let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(n.hJ,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...i})});c.displayName=n.hJ.displayName;let u=i.forwardRef((e,t)=>{let{className:a,children:i,...l}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(n.UC,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[i,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(r.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let h=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...i})});h.displayName=n.hE.displayName;let f=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...i})});f.displayName=n.VY.displayName},2336:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var s=a(5155),i=a(2115),n=a(9602);let r=i.forwardRef((e,t)=>{let{className:a,type:i,...r}=e;return(0,s.jsx)("input",{type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});r.displayName="Input"},5785:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var s=a(5155),i=a(2115),n=a(6195),r=a(1027),d=a(9602);let l=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,d.cn)(l(),a),...i})});o.displayName=n.b.displayName},371:(e,t,a)=>{"use strict";a.d(t,{T:()=>r});var s=a(5155),i=a(2115),n=a(9602);let r=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});r.displayName="Textarea"},2060:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7401).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},872:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7401).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},5686:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7401).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6195:(e,t,a)=>{"use strict";a.d(t,{b:()=>d});var s=a(2115),i=a(3360),n=a(5155),r=s.forwardRef((e,t)=>(0,n.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var d=r}},e=>{var t=t=>e(e.s=t);e.O(0,[247,554,844,978,813,997,441,517,358],()=>t(5352)),_N_E=e.O()}]);