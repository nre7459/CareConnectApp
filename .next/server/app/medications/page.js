(()=>{var e={};e.id=486,e.ids=[486],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3930:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l});var a=s(260),r=s(8203),i=s(5155),n=s.n(i),d=s(7292),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);s.d(t,o);let l=["",{children:["medications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4705)),"/Users/semih/Developer/CareConnectApp/app/medications/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2909)),"/Users/semih/Developer/CareConnectApp/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/semih/Developer/CareConnectApp/app/medications/page.jsx"],p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/medications/page",pathname:"/medications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6400:(e,t,s)=>{Promise.resolve().then(s.bind(s,4705))},6128:(e,t,s)=>{Promise.resolve().then(s.bind(s,8373))},8373:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(5512),r=s(8009),i=s(7021),n=s(7643),d=s(5409),o=s(7699),l=s(8859),c=s(5518),p=s(7229),m=s(1606),u=s(8062),h=s(3736),x=s(9656),f=s(1965),g=s(4297),b=s(7640);function j(){let[e,t]=(0,r.useState)([]),[s,j]=(0,r.useState)(!0),[v,y]=(0,r.useState)(!1),[k,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(null),[M,A]=(0,r.useState)({name:"",dosage:"",description:"",patientId:""}),{toast:z}=(0,c.dj)(),{user:P,isAuthenticated:D}=(0,b.A)(),S=async()=>{j(!0);try{let e=await (0,g.Pz)();t(e)}catch(e){console.error("Error loading medications:",e),z({variant:"destructive",title:"Fehler beim Laden der Medikamente",description:"Bitte versuchen Sie es sp\xe4ter erneut."})}finally{j(!1)}},_=e=>{let{name:t,value:s}=e.target;A(e=>({...e,[t]:s}))},I=()=>{A({name:"",dosage:"",description:"",patientId:P?.id?.toString()||""}),N(!1),C(null)},E=e=>{I(),e?(N(!0),C(e),A({name:e.name,dosage:e.dosage,description:e.description,patientId:e.patientId.toString()})):A(e=>({...e,patientId:P?.id?.toString()||""})),y(!0)},R=async e=>{e.preventDefault();try{k&&w?(await (0,g.jw)(w.id,{...M,patientId:Number.parseInt(M.patientId)}),z({title:"Medikament aktualisiert",description:"Das Medikament wurde erfolgreich aktualisiert."})):(await (0,g.U4)({...M,patientId:Number.parseInt(M.patientId)}),z({title:"Medikament hinzugef\xfcgt",description:"Das Medikament wurde erfolgreich hinzugef\xfcgt."})),y(!1),S()}catch(e){console.error("Error saving medication:",e),z({variant:"destructive",title:"Fehler beim Speichern",description:"Das Medikament konnte nicht gespeichert werden."})}},q=async e=>{if(confirm("Sind Sie sicher, dass Sie dieses Medikament l\xf6schen m\xf6chten?"))try{await (0,g.N6)(e),z({title:"Medikament gel\xf6scht",description:"Das Medikament wurde erfolgreich gel\xf6scht."}),S()}catch(e){console.error("Error deleting medication:",e),z({variant:"destructive",title:"Fehler beim L\xf6schen",description:"Das Medikament konnte nicht gel\xf6scht werden."})}};return(0,a.jsx)(p.A,{children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Medikamentenverwaltung"}),(0,a.jsxs)(i.$,{onClick:()=>E(),children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Neues Medikament"]})]}),s?(0,a.jsx)("div",{className:"text-center py-8",children:"Medikamente werden geladen..."}):0===e.length?(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"text-center py-8",children:[(0,a.jsx)(u.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Keine Medikamente gefunden"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Sie haben noch keine Medikamente hinzugef\xfcgt."}),(0,a.jsxs)(i.$,{onClick:()=>E(),children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Medikament hinzuf\xfcgen"]})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"pb-2",children:[(0,a.jsxs)(n.ZB,{className:"text-lg flex items-center",children:[(0,a.jsx)(u.A,{className:"mr-2 h-5 w-5"}),e.name]}),(0,a.jsx)(n.BT,{children:e.dosage})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{className:"text-sm",children:e.description})}),(0,a.jsxs)(n.wL,{className:"flex justify-end gap-2",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>E(e),children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Bearbeiten"]}),(0,a.jsxs)(i.$,{variant:"destructive",size:"sm",onClick:()=>q(e.id),children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"L\xf6schen"]})]})]},e.id))}),(0,a.jsx)(f.lG,{open:v,onOpenChange:y,children:(0,a.jsxs)(f.Cf,{children:[(0,a.jsxs)(f.c7,{children:[(0,a.jsx)(f.L3,{children:k?"Medikament bearbeiten":"Neues Medikament hinzuf\xfcgen"}),(0,a.jsxs)(f.rr,{children:["F\xfcllen Sie das Formular aus, um"," ",k?"das Medikament zu aktualisieren":"ein neues Medikament hinzuzuf\xfcgen","."]})]}),(0,a.jsxs)("form",{onSubmit:R,children:[(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"name",children:"Name"}),(0,a.jsx)(d.p,{id:"name",name:"name",value:M.name,onChange:_,placeholder:"z.B. Ibuprofen",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"dosage",children:"Dosierung"}),(0,a.jsx)(d.p,{id:"dosage",name:"dosage",value:M.dosage,onChange:_,placeholder:"z.B. 400mg, 3x t\xe4glich",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"description",children:"Beschreibung"}),(0,a.jsx)(l.T,{id:"description",name:"description",value:M.description,onChange:_,placeholder:"Beschreibung und Hinweise",rows:3})]})]}),(0,a.jsxs)(f.Es,{children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Abbrechen"}),(0,a.jsx)(i.$,{type:"submit",children:k?"Aktualisieren":"Hinzuf\xfcgen"})]})]})]})})]})})}},1965:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>p,Es:()=>u,L3:()=>h,c7:()=>m,lG:()=>o,rr:()=>x});var a=s(5512),r=s(8009),i=s(7553),n=s(4269),d=s(9462);let o=i.bL;i.l9;let l=i.ZL;i.bm;let c=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.hJ,{ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=i.hJ.displayName;let p=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(l,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(i.UC,{ref:r,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=i.UC.displayName;let m=({className:e,...t})=>(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});m.displayName="DialogHeader";let u=({className:e,...t})=>(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});u.displayName="DialogFooter";let h=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.hE,{ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=i.hE.displayName;let x=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.VY,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=i.VY.displayName},5409:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5512),r=s(8009),i=s(9462);let n=r.forwardRef(({className:e,type:t,...s},r)=>(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));n.displayName="Input"},7699:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var a=s(5512),r=s(8009),i=s(2405),n=s(1643),d=s(9462);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.b,{ref:s,className:(0,d.cn)(o(),e),...t}));l.displayName=i.b.displayName},8859:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var a=s(5512),r=s(8009),i=s(9462);let n=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));n.displayName="Textarea"},1606:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1680).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},3736:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1680).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},9656:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1680).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4705:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/semih/Developer/CareConnectApp/app/medications/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/semih/Developer/CareConnectApp/app/medications/page.jsx","default")},2405:(e,t,s)=>{"use strict";s.d(t,{b:()=>d});var a=s(8009),r=s(830),i=s(5512),n=a.forwardRef((e,t)=>(0,i.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var d=n}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[692,531,648,139,735,103],()=>s(3930));module.exports=a})();