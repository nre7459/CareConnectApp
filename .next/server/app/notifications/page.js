(()=>{var e={};e.id=173,e.ids=[173],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},6746:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=t(260),s=t(8203),i=t(5155),a=t.n(i),o=t(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3193)),"/Users/semih/Developer/CareConnectApp/app/notifications/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2909)),"/Users/semih/Developer/CareConnectApp/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/semih/Developer/CareConnectApp/app/notifications/page.jsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2776:(e,r,t)=>{Promise.resolve().then(t.bind(t,3193))},2504:(e,r,t)=>{Promise.resolve().then(t.bind(t,231))},231:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var n=t(5512),s=t(8009),i=t(7021),a=t(7643),o=t(5518),l=t(7229),d=t(6928);let c=(0,t(1680).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var p=t(4297),u=t(7640),m=t(1643),h=t(9462);let x=(0,m.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:e,variant:r,...t}){return(0,n.jsx)("div",{className:(0,h.cn)(x({variant:r}),e),...t})}function g(){let[e,r]=(0,s.useState)([]),[t,m]=(0,s.useState)(!0),{toast:h}=(0,o.dj)(),{user:x}=(0,u.A)(),g=async()=>{m(!0);try{let e=await (0,p.bb)();r(e)}catch(e){console.error("Error loading notifications:",e),h({variant:"destructive",title:"Fehler beim Laden der Benachrichtigungen",description:"Bitte versuchen Sie es sp\xe4ter erneut."})}finally{m(!1)}},v=async e=>{try{await (0,p.bA)(e),r(r=>r.map(r=>r.id===e?{...r,isRead:!0}:r)),h({title:"Als gelesen markiert",description:"Die Benachrichtigung wurde als gelesen markiert."})}catch(e){console.error("Error marking notification as read:",e),h({variant:"destructive",title:"Fehler",description:"Die Benachrichtigung konnte nicht als gelesen markiert werden."})}},b=e=>{let r=new Date(e);return new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return(0,n.jsx)(l.A,{children:(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Benachrichtigungen"}),(0,n.jsx)(i.$,{variant:"outline",onClick:g,disabled:t,children:"Aktualisieren"})]}),t?(0,n.jsx)("div",{className:"text-center py-8",children:"Benachrichtigungen werden geladen..."}):0===e.length?(0,n.jsx)(a.Zp,{children:(0,n.jsxs)(a.Wu,{className:"text-center py-8",children:[(0,n.jsx)(d.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,n.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Keine Benachrichtigungen"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Sie haben keine neuen Benachrichtigungen."})]})}):(0,n.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,n.jsxs)(a.Zp,{className:e.isRead?"opacity-75":"",children:[(0,n.jsxs)(a.aR,{className:"pb-2",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(d.A,{className:"h-5 w-5 mr-2 text-primary"}),(0,n.jsx)(a.ZB,{className:"text-lg",children:e.title})]}),!e.isRead&&(0,n.jsx)(f,{variant:"default",children:"Neu"})]}),(0,n.jsx)(a.BT,{children:b(e.createdAt)})]}),(0,n.jsxs)(a.Wu,{children:[(0,n.jsx)("p",{className:"mb-4",children:e.message}),!e.isRead&&(0,n.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>v(e.id),className:"flex items-center",children:[(0,n.jsx)(c,{className:"h-4 w-4 mr-2"}),"Als gelesen markieren"]})]})]},e.id))})]})})}},3193:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/semih/Developer/CareConnectApp/app/notifications/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/semih/Developer/CareConnectApp/app/notifications/page.jsx","default")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[692,531,648,139,735,103],()=>t(6746));module.exports=n})();